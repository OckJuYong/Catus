# ğŸ“‹ Catus í”„ë¡ íŠ¸ì—”ë“œ ê¸°ëŠ¥ëª…ì„¸ì„œ

> React 19.1.1 + TypeScript + Vite 7.2.0

---

## 1. ë„ë©”ì¸ë³„ ê¸°ëŠ¥ ëª…ì„¸

### ğŸ‘¤ ì¸ì¦ ë„ë©”ì¸ (Auth Domain)

- **ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸**
  - [x] ì¹´ì¹´ì˜¤ OAuth 2.0 ì—°ë™
  - [x] JWT í† í° localStorage ì €ì¥
  - [x] ì‹ ê·œ/ê¸°ì¡´ ìœ ì € ìë™ êµ¬ë¶„
  - [x] ìë™ ë¡œê·¸ì¸ ì²˜ë¦¬

- **ì˜¨ë³´ë”©**
  - [x] ë‹‰ë„¤ì„ ì„¤ì •
  - [x] ë¹„ë°€ë²ˆí˜¸ ì„¤ì • (ì„ íƒ)
  - [x] ì¼ê¸° ìƒì„± ì‹œê°„ ì„¤ì •
  - [x] ì¶”ê°€ ì •ë³´ ìˆ˜ì§‘ (ì„±ë³„, ì—°ë ¹, ì§ì—…, ëª©ì )

- **íšŒì› ê´€ë¦¬**
  - [x] í”„ë¡œí•„ ìˆ˜ì • (ë‹‰ë„¤ì„, ë¹„ë°€ë²ˆí˜¸)
  - [x] íšŒì› íƒˆí‡´
  - [x] ë¡œê·¸ì•„ì›ƒ

### ğŸ’¬ ì±„íŒ… ë„ë©”ì¸ (Chat Domain)

- **ëŒ€í™” ê´€ë¦¬**
  - [x] ì‹¤ì‹œê°„ AI ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
  - [x] ë©”ì‹œì§€ IndexedDB ë¡œì»¬ ì €ì¥
  - [x] ë‚ ì§œë³„ ëŒ€í™” ë‚´ìš© ì¡°íšŒ
  - [x] í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œ ëŒ€í™” ë³µì›

- **ë°±ì—”ë“œ ë™ê¸°í™”**
  - [x] ì¼ê¸° ìƒì„± ì‹œ ì±„íŒ… ë¡œê·¸ ì „ì†¡
  - [x] ë™ê¸°í™” ìƒíƒœ ì¶”ì  (synced flag)

### ğŸ“” ì¼ê¸° ë„ë©”ì¸ (Diary Domain)

- **ì¼ê¸° ìƒì„±**
  - [x] ì„¤ì • ì‹œê°„ì— ì¼ê¸° ìƒì„± ë²„íŠ¼ í™œì„±í™”
  - [x] IndexedDB ì±„íŒ… ë¡œê·¸ ìˆ˜ì§‘ ë° ì „ì†¡
  - [x] ì¼ê¸° ìƒì„± ì• ë‹ˆë©”ì´ì…˜

- **ì¼ê¸° ê´€ë¦¬**
  - [x] ìº˜ë¦°ë” ë·° (ê°ì • ì´ëª¨ì§€ í‘œì‹œ)
  - [x] ì¼ê¸° ìƒì„¸ ë³´ê¸°
  - [x] ì¼ê¸° ìˆ˜ì • (ê°ì •, ë‚´ìš©)
  - [x] ì¼ê¸° ì‚­ì œ

- **ëœë¤ ì¼ê¸°**
  - [x] íƒ€ì¸ì˜ ìµëª… ì¼ê¸° ì¡°íšŒ
  - [x] ê³ ì–‘ì´ "ë‹¬ì´" í´ë¦­ ì‹œ ì ‘ê·¼

### ğŸ’Œ ë©”ì‹œì§€ ë„ë©”ì¸ (Message Domain)

- **ìµëª… ë©”ì‹œì§€**
  - [x] ëœë¤ ì¼ê¸°ì— ì‘ì› ë©”ì‹œì§€ ì „ì†¡ (ìµœëŒ€ 100ì)
  - [x] ë°›ì€ ë©”ì‹œì§€ ì¡°íšŒ
  - [x] ì½ì§€ ì•Šì€ ë©”ì‹œì§€ ë°°ì§€ í‘œì‹œ
  - [x] ì¢…ì´ë¹„í–‰ê¸° ì• ë‹ˆë©”ì´ì…˜

- **ì•Œë¦¼ ê´€ë¦¬**
  - [x] LocalStorageë¡œ ì½ìŒ ìƒíƒœ ì¶”ì 
  - [x] ì²« ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ íŠœí† ë¦¬ì–¼ í‘œì‹œ

### ğŸ§  ì„±ê²© ë¶„ì„ ë„ë©”ì¸ (Personality Domain)

- **Big5 í…ŒìŠ¤íŠ¸**
  - [x] ì´ˆê¸° 10ê°œ ì§ˆë¬¸ ì„±ê²© ê²€ì‚¬
  - [x] 5ì  ì²™ë„ ì‘ë‹µ
  - [x] ì§„í–‰ë¥  ë°” í‘œì‹œ

- **Big5 í†µê³„**
  - [x] 5ê°€ì§€ íŠ¹ì„± ì‹œê°í™” (í”„ë¡œê·¸ë ˆìŠ¤ ë°”)
  - [x] íŠ¹ì„±ë³„ ì ìˆ˜ ë° ì„¤ëª…
  - [x] ì£¼ê°„ ìë™ ì—…ë°ì´íŠ¸ ì•ˆë‚´
  - [x] ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ë‚ ì§œ í‘œì‹œ

### âš™ï¸ ì„¤ì • ë„ë©”ì¸ (Settings Domain)

- **ì‚¬ìš©ì ì„¤ì •**
  - [x] ì¼ê¸° ìƒì„± ì‹œê°„ ë³€ê²½
  - [x] ì•Œë¦¼ ì„¤ì • (ìµëª… ë©”ì‹œì§€)
  - [x] ë‹¤í¬ëª¨ë“œ í† ê¸€
  - [x] í”„ë¡œí•„ ìˆ˜ì •

### ğŸ“ íŠœí† ë¦¬ì–¼ ì‹œìŠ¤í…œ

- **ì²« ë°©ë¬¸ íŠœí† ë¦¬ì–¼**
  - [x] í™ˆ í™”ë©´ ìë™ ì‹œì‘
  - [x] UI ìš”ì†Œë³„ ë‹¨ê³„ ì•ˆë‚´
  - [x] ì™„ë£Œ ìƒíƒœ LocalStorage ì €ì¥

---

## 2. í˜ì´ì§€ ë¼ìš°íŒ… êµ¬ì¡°

| Route | Component | Description |
|-------|-----------|-------------|
| `/` | LoginPage | ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ |
| `/auth/kakao/callback` | KakaoCallbackPage | ì¹´ì¹´ì˜¤ ì¸ì¦ ì²˜ë¦¬ |
| `/onboarding` | OnboardingPage | ê¸°ë³¸ ì •ë³´ ì…ë ¥ |
| `/onboarding/flow` | Onboarding | ì¶”ê°€ ì •ë³´ ìˆ˜ì§‘ |
| `/home` | HomePage | ë©”ì¸ í™”ë©´ |
| `/chat` | ChatPage | AI ì±„íŒ… |
| `/calendar` | CalendarPage | ì¼ê¸° ìº˜ë¦°ë” |
| `/diary/:date` | DiaryDetailPage | ì¼ê¸° ìƒì„¸ |
| `/diary-reveal/:date` | DiaryRevealPage | ì¼ê¸° ìƒì„± |
| `/random-diary` | RandomDiaryPage | ëœë¤ ì¼ê¸° ì¡°íšŒ |
| `/big5/test` | Big5TestPage | BIG5 ê²€ì‚¬ |
| `/big5/stats` | Big5StatsPage | BIG5 í†µê³„ |
| `/letter` | LetterPage | ìµëª… ë©”ì‹œì§€í•¨ |
| `/settings` | SettingsPage | ì„¤ì • |
| `/support` | SupportPage | ì§€ì› |
| `/privacy-policy` | PrivacyPolicyPage | ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ |

---

## 3. ë¡œì»¬ ë°ì´í„° ì €ì¥

### LocalStorage
| Key | Type | Description |
|-----|------|-------------|
| `catus_access_token` | string | JWT í† í° |
| `catus_onboarding_completed` | boolean | ì˜¨ë³´ë”© ì™„ë£Œ |
| `catus_dark_mode` | boolean | ë‹¤í¬ëª¨ë“œ ì„¤ì • |
| `catus_diary_time` | string | ì¼ê¸° ìƒì„± ì‹œê°„ |
| `received_messages` | array | ë°›ì€ ë©”ì‹œì§€ |
| `last_checked_received_count` | number | ë§ˆì§€ë§‰ í™•ì¸ ë©”ì‹œì§€ ìˆ˜ |
| `support_tutorial_shown` | boolean | ì§€ì› íŠœí† ë¦¬ì–¼ í‘œì‹œ |
| `tutorial_completed` | boolean | ì²« íŠœí† ë¦¬ì–¼ ì™„ë£Œ |

### IndexedDB (CatusDB)
**Store**: `chatMessages`

| Field | Type | Index |
|-------|------|-------|
| id | number | Primary Key (auto) |
| date | string | Yes (ë‚ ì§œë³„ ì¡°íšŒ) |
| role | string | - |
| content | string | - |
| timestamp | string | - |
| synced | boolean | Yes (ë™ê¸°í™” í•„í„°) |
| createdAt | number | - |

---

## 4. ì£¼ìš” Context

### AuthContext
- ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬
- JWT í† í° ê´€ë¦¬
- ìë™ ë¡œê·¸ì¸ ì²˜ë¦¬

### DarkModeContext
- ë‹¤í¬ëª¨ë“œ ìƒíƒœ
- ë°±ì—”ë“œ ë™ê¸°í™”

### TutorialContext
- íŠœí† ë¦¬ì–¼ ì™„ë£Œ ìƒíƒœ
- LocalStorage ë™ê¸°í™”

---

## 5. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬

### í•µì‹¬
- `react`: 19.1.1
- `react-router-dom`: 7.1.3
- `@tanstack/react-query`: 5.66.2
- `axios`: 1.7.9

### UI/UX
- `framer-motion`: 11.18.0
- `react-calendar`: 5.2.0
- `lucide-react`: 0.468.0

### ìœ í‹¸ë¦¬í‹°
- `date-fns`: 4.1.0

### ê°œë°œ
- `vite`: 7.2.0
- `typescript`: 5.7.3
- `tailwindcss`: 3.4.17

---

## 6. í™˜ê²½ ë³€ìˆ˜

```env
VITE_KAKAO_CLIENT_ID=your_kakao_client_id
VITE_KAKAO_REDIRECT_URI=http://localhost:8101/auth/kakao/callback
VITE_API_BASE_URL=http://localhost:3000
```

---

## 7. ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### ì„±ëŠ¥
- React Query ìºì‹± (5ë¶„ staleTime)
- IndexedDB ë¡œì»¬ ì €ì¥
- Vite HMR

### ë³´ì•ˆ
- JWT í† í° ì¸ì¦
- HTTPS í†µì‹  (í”„ë¡œë•ì…˜)
- XSS ë°©ì§€ (React ìë™)

### UX
- ë°˜ì‘í˜• ë””ìì¸
- ë‹¤í¬ëª¨ë“œ ì§€ì›
- ì• ë‹ˆë©”ì´ì…˜ (Framer Motion)

### ì ‘ê·¼ì„±
- ì‹œë§¨í‹± HTML
- aria-label ì†ì„±
- WCAG AA ì¤€ìˆ˜

---

## 8. ë¹Œë“œ ë° ë°°í¬

```bash
# ê°œë°œ ì„œë²„
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# íƒ€ì… ì²´í¬
npm run type-check
```

---

## 9. ë¸Œë¼ìš°ì € ì§€ì›

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

**ëª¨ë°”ì¼**:
- iOS Safari 14+
- Chrome Android 90+

---

**ë¬¸ì„œ ë²„ì „**: 1.0
**ìµœì¢… ìˆ˜ì •**: 2025-01-21
